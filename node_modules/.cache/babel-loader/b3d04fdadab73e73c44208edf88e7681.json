{"ast":null,"code":"import _regeneratorRuntime from \"/Users/austinirvine/Documents/genlouise/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/austinirvine/Documents/genlouise/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _objectSpread from \"/Users/austinirvine/Documents/genlouise/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _classCallCheck from \"/Users/austinirvine/Documents/genlouise/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/austinirvine/Documents/genlouise/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/austinirvine/Documents/genlouise/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/austinirvine/Documents/genlouise/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/austinirvine/Documents/genlouise/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/austinirvine/Documents/genlouise/src/views/Register/index.jsx\";\nimport React, { Component } from 'react';\nimport { Link, withRouter } from 'react-router-dom'; // Externals\n\nimport PropTypes from 'prop-types';\nimport compose from 'recompose/compose';\nimport validate from 'validate.js';\nimport _ from 'underscore'; // Material helpers\n\nimport { withStyles } from '@material-ui/core'; // Material components\n\nimport { Button, Checkbox, CircularProgress, Grid, TextField, Typography, Fade } from '@material-ui/core'; // Shared utilities\n\nimport validators from '../../common/validators'; // Component styles\n\nimport styles from './styles'; // Form validation schema\n\nimport schema from './schema';\nimport { Footer } from '../../layouts/Dashboard/components';\nimport MuiPhoneNumber from \"material-ui-phone-number\";\nvalidate.validators.checked = validators.checked; // Service methods\n\nvar signUp = function signUp() {\n  return new Promise(function (resolve) {\n    setTimeout(function () {\n      resolve(true);\n    }, 1500);\n  });\n};\n\nvar Register =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Register, _Component);\n\n  function Register() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Register);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Register)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      values: {\n        firstName: '',\n        lastName: '',\n        email: '',\n        password: '',\n        policy: false\n      },\n      touched: {\n        firstName: false,\n        lastName: false,\n        email: false,\n        password: false,\n        policy: null\n      },\n      errors: {\n        firstName: null,\n        lastName: null,\n        email: null,\n        password: null,\n        policy: null\n      },\n      isValid: false,\n      isLoading: false,\n      submitError: null,\n      showSuccessMessage: false\n    };\n\n    _this.handleBack = function () {\n      var history = _this.props.history;\n      history.goBack();\n    };\n\n    _this.validateForm = _.debounce(function () {\n      var values = _this.state.values;\n\n      var newState = _objectSpread({}, _this.state);\n\n      var errors = validate(values, schema);\n      newState.errors = errors || {};\n      newState.isValid = errors ? false : true;\n\n      _this.setState(newState);\n    }, 300);\n\n    _this.handleFieldChange = function (field, value) {\n      var newState = _objectSpread({}, _this.state);\n\n      newState.submitError = null;\n      newState.touched[field] = true;\n      newState.values[field] = value;\n\n      _this.setState(newState, _this.validateForm);\n    };\n\n    _this.handleSignUp =\n    /*#__PURE__*/\n    _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee() {\n      var history, values;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.prev = 0;\n              history = _this.props.history;\n              values = _this.state.values;\n\n              _this.setState({\n                isLoading: true\n              });\n\n              _context.next = 6;\n              return signUp({\n                firstName: values.firstName,\n                lastName: values.lastName,\n                email: values.email,\n                password: values.password\n              });\n\n            case 6:\n              _this.setState({\n                showSuccessMessage: true\n              }); //history.push('/sign-in');\n\n\n              _this.setState({\n                isLoading: false\n              });\n\n              _context.next = 13;\n              break;\n\n            case 10:\n              _context.prev = 10;\n              _context.t0 = _context[\"catch\"](0);\n\n              _this.setState({\n                isLoading: false,\n                serviceError: _context.t0\n              });\n\n            case 13:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[0, 10]]);\n    }));\n    return _this;\n  }\n\n  _createClass(Register, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var classes = this.props.classes;\n      var _this$state = this.state,\n          values = _this$state.values,\n          touched = _this$state.touched,\n          errors = _this$state.errors,\n          isValid = _this$state.isValid,\n          submitError = _this$state.submitError,\n          isLoading = _this$state.isLoading,\n          showSuccessMessage = _this$state.showSuccessMessage;\n      var showFirstNameError = touched.firstName && errors.firstName ? errors.firstName[0] : false;\n      var showLastNameError = touched.lastName && errors.lastName ? errors.lastName[0] : false;\n      var showEmailError = touched.email && errors.email ? errors.email[0] : false;\n      var showPasswordError = touched.password && errors.password ? errors.password[0] : false;\n      var showPolicyError = touched.policy && errors.policy ? errors.policy[0] : false;\n      return React.createElement(\"div\", {\n        className: classes.root,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 155\n        },\n        __self: this\n      }, React.createElement(Grid, {\n        className: classes.grid,\n        container: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 156\n        },\n        __self: this\n      }, React.createElement(Grid, {\n        className: classes.quoteWrapper,\n        item: true,\n        lg: 5,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 160\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: classes.quote,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 165\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: classes.quoteInner,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 166\n        },\n        __self: this\n      }, React.createElement(Typography, {\n        className: classes.quoteText,\n        variant: \"h1\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 167\n        },\n        __self: this\n      }, \"Hella narwhal Cosby sweater McSweeney's, salvia kitsch before they sold out High Life.\"), React.createElement(\"div\", {\n        className: classes.person,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 174\n        },\n        __self: this\n      }, React.createElement(Typography, {\n        className: classes.name,\n        variant: \"body1\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 175\n        },\n        __self: this\n      }, \"Takamaru Ayako\"), React.createElement(Typography, {\n        className: classes.bio,\n        variant: \"body2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 181\n        },\n        __self: this\n      }, \"Manager at inVision\"))))), React.createElement(Grid, {\n        className: classes.content,\n        item: true,\n        lg: 7,\n        xs: 12,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 191\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: classes.content,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 197\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: classes.contentBody,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 199\n        },\n        __self: this\n      }, React.createElement(\"form\", {\n        className: classes.form,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 200\n        },\n        __self: this\n      }, React.createElement(Typography, {\n        className: classes.title,\n        variant: \"h2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 201\n        },\n        __self: this\n      }, \"Register\"), React.createElement(Typography, {\n        className: classes.subtitle,\n        variant: \"body1\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 207\n        },\n        __self: this\n      }, \"Use your work email to register... it's free.\"), React.createElement(\"div\", {\n        className: classes.fields,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 214\n        },\n        __self: this\n      }, React.createElement(TextField, {\n        className: classes.textField,\n        label: \"First name\",\n        name: \"firstName\",\n        onChange: function onChange(event) {\n          return _this2.handleFieldChange('firstName', event.target.value);\n        },\n        value: values.firstName,\n        variant: \"outlined\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 215\n        },\n        __self: this\n      }), showFirstNameError && React.createElement(Typography, {\n        className: classes.fieldError,\n        variant: \"body2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 226\n        },\n        __self: this\n      }, errors.firstName[0]), React.createElement(TextField, {\n        className: classes.textField,\n        label: \"Last name\",\n        onChange: function onChange(event) {\n          return _this2.handleFieldChange('lastName', event.target.value);\n        },\n        value: values.lastName,\n        variant: \"outlined\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 233\n        },\n        __self: this\n      }), showLastNameError && React.createElement(Typography, {\n        className: classes.fieldError,\n        variant: \"body2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 243\n        },\n        __self: this\n      }, errors.lastName[0]), React.createElement(TextField, {\n        className: classes.textField,\n        label: \"Email\",\n        name: \"email\",\n        onChange: function onChange(event) {\n          return _this2.handleFieldChange('email', event.target.value);\n        },\n        value: values.email,\n        variant: \"outlined\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 250\n        },\n        __self: this\n      }), showEmailError && React.createElement(Typography, {\n        className: classes.fieldError,\n        variant: \"body2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 261\n        },\n        __self: this\n      }, errors.email[0]), React.createElement(TextField, {\n        className: classes.textField,\n        label: \"Company Name\",\n        name: \"companyName\",\n        variant: \"outlined\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 268\n        },\n        __self: this\n      }), React.createElement(TextField, {\n        className: classes.textField,\n        label: \"Company Address\",\n        name: \"companyAddress\",\n        variant: \"outlined\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 274\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: classes.phoneNumber,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 280\n        },\n        __self: this\n      }, React.createElement(MuiPhoneNumber, {\n        name: \"phone\",\n        label: \"Phone Number\",\n        \"data-cy\": \"user-phone\",\n        defaultCountry: \"tr\",\n        variant: \"outlined\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 281\n        },\n        __self: this\n      }))), submitError && React.createElement(Typography, {\n        className: classes.submitError,\n        variant: \"body2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 290\n        },\n        __self: this\n      }, submitError), isLoading ? React.createElement(CircularProgress, {\n        className: classes.progress,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 298\n        },\n        __self: this\n      }) : React.createElement(Button, {\n        className: classes.signUpButton,\n        color: \"primary\"\n        /*disabled={!isValid}*/\n        ,\n        onClick: this.handleSignUp,\n        size: \"large\",\n        variant: \"contained\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 300\n        },\n        __self: this\n      }, \"Register now\"))), React.createElement(Fade, {\n        in: this.state.showSuccessMessage,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 315\n        },\n        __self: this\n      }, React.createElement(Typography, {\n        className: classes.successMessage,\n        variant: \"h1\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 316\n        },\n        __self: this\n      }, \"Hella narwhal Cosby sweater McSweeney's, salvia kitsch before they sold out High Life.\")), React.createElement(Footer, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 325\n        },\n        __self: this\n      })))));\n    }\n  }]);\n\n  return Register;\n}(Component);\n\nRegister.propTypes = {\n  className: PropTypes.string,\n  classes: PropTypes.object.isRequired,\n  history: PropTypes.object.isRequired\n};\nexport default compose(withRouter, withStyles(styles))(Register);","map":{"version":3,"sources":["/Users/austinirvine/Documents/genlouise/src/views/Register/index.jsx"],"names":["React","Component","Link","withRouter","PropTypes","compose","validate","_","withStyles","Button","Checkbox","CircularProgress","Grid","TextField","Typography","Fade","validators","styles","schema","Footer","MuiPhoneNumber","checked","signUp","Promise","resolve","setTimeout","Register","state","values","firstName","lastName","email","password","policy","touched","errors","isValid","isLoading","submitError","showSuccessMessage","handleBack","history","props","goBack","validateForm","debounce","newState","setState","handleFieldChange","field","value","handleSignUp","serviceError","classes","showFirstNameError","showLastNameError","showEmailError","showPasswordError","showPolicyError","root","grid","quoteWrapper","quote","quoteInner","quoteText","person","name","bio","content","contentBody","form","title","subtitle","fields","textField","event","target","fieldError","phoneNumber","progress","signUpButton","successMessage","propTypes","className","string","object","isRequired"],"mappings":";;;;;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,IAAT,EAAeC,UAAf,QAAiC,kBAAjC,C,CAEA;;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,OAAOC,OAAP,MAAoB,mBAApB;AACA,OAAOC,QAAP,MAAqB,aAArB;AACA,OAAOC,CAAP,MAAc,YAAd,C,CAEA;;AACA,SAASC,UAAT,QAA2B,mBAA3B,C,CAEA;;AACA,SACEC,MADF,EAEEC,QAFF,EAGEC,gBAHF,EAIEC,IAJF,EAKEC,SALF,EAMEC,UANF,EAOIC,IAPJ,QAQO,mBARP,C,CAUA;;AACA,OAAOC,UAAP,MAAuB,yBAAvB,C,CAEA;;AACA,OAAOC,MAAP,MAAmB,UAAnB,C,CAEA;;AACA,OAAOC,MAAP,MAAmB,UAAnB;AAEA,SAASC,MAAT,QAAuB,oCAAvB;AAEA,OAAOC,cAAP,MAA2B,0BAA3B;AAGAd,QAAQ,CAACU,UAAT,CAAoBK,OAApB,GAA8BL,UAAU,CAACK,OAAzC,C,CAEA;;AACA,IAAMC,MAAM,GAAG,SAATA,MAAS,GAAM;AACnB,SAAO,IAAIC,OAAJ,CAAY,UAAAC,OAAO,EAAI;AAC5BC,IAAAA,UAAU,CAAC,YAAM;AACfD,MAAAA,OAAO,CAAC,IAAD,CAAP;AACD,KAFS,EAEP,IAFO,CAAV;AAGD,GAJM,CAAP;AAKD,CAND;;IAQME,Q;;;;;;;;;;;;;;;;;UACJC,K,GAAQ;AACNC,MAAAA,MAAM,EAAE;AACNC,QAAAA,SAAS,EAAE,EADL;AAENC,QAAAA,QAAQ,EAAE,EAFJ;AAGNC,QAAAA,KAAK,EAAE,EAHD;AAINC,QAAAA,QAAQ,EAAE,EAJJ;AAKNC,QAAAA,MAAM,EAAE;AALF,OADF;AAQNC,MAAAA,OAAO,EAAE;AACPL,QAAAA,SAAS,EAAE,KADJ;AAEPC,QAAAA,QAAQ,EAAE,KAFH;AAGPC,QAAAA,KAAK,EAAE,KAHA;AAIPC,QAAAA,QAAQ,EAAE,KAJH;AAKPC,QAAAA,MAAM,EAAE;AALD,OARH;AAeNE,MAAAA,MAAM,EAAE;AACNN,QAAAA,SAAS,EAAE,IADL;AAENC,QAAAA,QAAQ,EAAE,IAFJ;AAGNC,QAAAA,KAAK,EAAE,IAHD;AAINC,QAAAA,QAAQ,EAAE,IAJJ;AAKNC,QAAAA,MAAM,EAAE;AALF,OAfF;AAsBNG,MAAAA,OAAO,EAAE,KAtBH;AAuBNC,MAAAA,SAAS,EAAE,KAvBL;AAwBNC,MAAAA,WAAW,EAAE,IAxBP;AAyBNC,MAAAA,kBAAkB,EAAE;AAzBd,K;;UA4BRC,U,GAAa,YAAM;AAAA,UACTC,OADS,GACG,MAAKC,KADR,CACTD,OADS;AAGjBA,MAAAA,OAAO,CAACE,MAAR;AACD,K;;UAEDC,Y,GAAerC,CAAC,CAACsC,QAAF,CAAW,YAAM;AAAA,UACtBjB,MADsB,GACX,MAAKD,KADM,CACtBC,MADsB;;AAG9B,UAAMkB,QAAQ,qBAAQ,MAAKnB,KAAb,CAAd;;AACA,UAAMQ,MAAM,GAAG7B,QAAQ,CAACsB,MAAD,EAASV,MAAT,CAAvB;AAEA4B,MAAAA,QAAQ,CAACX,MAAT,GAAkBA,MAAM,IAAI,EAA5B;AACAW,MAAAA,QAAQ,CAACV,OAAT,GAAmBD,MAAM,GAAG,KAAH,GAAW,IAApC;;AAEA,YAAKY,QAAL,CAAcD,QAAd;AACD,KAVc,EAUZ,GAVY,C;;UAYfE,iB,GAAoB,UAACC,KAAD,EAAQC,KAAR,EAAkB;AACpC,UAAMJ,QAAQ,qBAAQ,MAAKnB,KAAb,CAAd;;AAEAmB,MAAAA,QAAQ,CAACR,WAAT,GAAuB,IAAvB;AACAQ,MAAAA,QAAQ,CAACZ,OAAT,CAAiBe,KAAjB,IAA0B,IAA1B;AACAH,MAAAA,QAAQ,CAAClB,MAAT,CAAgBqB,KAAhB,IAAyBC,KAAzB;;AAEA,YAAKH,QAAL,CAAcD,QAAd,EAAwB,MAAKF,YAA7B;AACD,K;;UAEDO,Y;;;;6BAAe;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEHV,cAAAA,OAFG,GAES,MAAKC,KAFd,CAEHD,OAFG;AAGHb,cAAAA,MAHG,GAGQ,MAAKD,KAHb,CAGHC,MAHG;;AAKX,oBAAKmB,QAAL,CAAc;AAAEV,gBAAAA,SAAS,EAAE;AAAb,eAAd;;AALW;AAAA,qBAOLf,MAAM,CAAC;AACXO,gBAAAA,SAAS,EAAED,MAAM,CAACC,SADP;AAEXC,gBAAAA,QAAQ,EAAEF,MAAM,CAACE,QAFN;AAGXC,gBAAAA,KAAK,EAAEH,MAAM,CAACG,KAHH;AAIXC,gBAAAA,QAAQ,EAAEJ,MAAM,CAACI;AAJN,eAAD,CAPD;;AAAA;AAcX,oBAAKe,QAAL,CAAc;AAACR,gBAAAA,kBAAkB,EAAE;AAArB,eAAd,EAdW,CAeX;;;AACA,oBAAKQ,QAAL,CAAc;AAAEV,gBAAAA,SAAS,EAAE;AAAb,eAAd;;AAhBW;AAAA;;AAAA;AAAA;AAAA;;AAkBX,oBAAKU,QAAL,CAAc;AACZV,gBAAAA,SAAS,EAAE,KADC;AAEZe,gBAAAA,YAAY;AAFA,eAAd;;AAlBW;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,K;;;;;;6BAyBN;AAAA;;AAAA,UACCC,OADD,GACa,KAAKX,KADlB,CACCW,OADD;AAAA,wBAUH,KAAK1B,KAVF;AAAA,UAGLC,MAHK,eAGLA,MAHK;AAAA,UAILM,OAJK,eAILA,OAJK;AAAA,UAKLC,MALK,eAKLA,MALK;AAAA,UAMLC,OANK,eAMLA,OANK;AAAA,UAOLE,WAPK,eAOLA,WAPK;AAAA,UAQLD,SARK,eAQLA,SARK;AAAA,UASHE,kBATG,eASHA,kBATG;AAYP,UAAMe,kBAAkB,GACtBpB,OAAO,CAACL,SAAR,IAAqBM,MAAM,CAACN,SAA5B,GAAwCM,MAAM,CAACN,SAAP,CAAiB,CAAjB,CAAxC,GAA8D,KADhE;AAEA,UAAM0B,iBAAiB,GACrBrB,OAAO,CAACJ,QAAR,IAAoBK,MAAM,CAACL,QAA3B,GAAsCK,MAAM,CAACL,QAAP,CAAgB,CAAhB,CAAtC,GAA2D,KAD7D;AAEA,UAAM0B,cAAc,GAClBtB,OAAO,CAACH,KAAR,IAAiBI,MAAM,CAACJ,KAAxB,GAAgCI,MAAM,CAACJ,KAAP,CAAa,CAAb,CAAhC,GAAkD,KADpD;AAEA,UAAM0B,iBAAiB,GACrBvB,OAAO,CAACF,QAAR,IAAoBG,MAAM,CAACH,QAA3B,GAAsCG,MAAM,CAACH,QAAP,CAAgB,CAAhB,CAAtC,GAA2D,KAD7D;AAEA,UAAM0B,eAAe,GACnBxB,OAAO,CAACD,MAAR,IAAkBE,MAAM,CAACF,MAAzB,GAAkCE,MAAM,CAACF,MAAP,CAAc,CAAd,CAAlC,GAAqD,KADvD;AAGA,aACE;AAAK,QAAA,SAAS,EAAEoB,OAAO,CAACM,IAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,IAAD;AACE,QAAA,SAAS,EAAEN,OAAO,CAACO,IADrB;AAEE,QAAA,SAAS,MAFX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAIE,oBAAC,IAAD;AACE,QAAA,SAAS,EAAEP,OAAO,CAACQ,YADrB;AAEE,QAAA,IAAI,MAFN;AAGE,QAAA,EAAE,EAAE,CAHN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAKE;AAAK,QAAA,SAAS,EAAER,OAAO,CAACS,KAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAK,QAAA,SAAS,EAAET,OAAO,CAACU,UAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,UAAD;AACE,QAAA,SAAS,EAAEV,OAAO,CAACW,SADrB;AAEE,QAAA,OAAO,EAAC,IAFV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kGADF,EAQE;AAAK,QAAA,SAAS,EAAEX,OAAO,CAACY,MAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,UAAD;AACE,QAAA,SAAS,EAAEZ,OAAO,CAACa,IADrB;AAEE,QAAA,OAAO,EAAC,OAFV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BADF,EAOE,oBAAC,UAAD;AACE,QAAA,SAAS,EAAEb,OAAO,CAACc,GADrB;AAEE,QAAA,OAAO,EAAC,OAFV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,+BAPF,CARF,CADF,CALF,CAJF,EAmCE,oBAAC,IAAD;AACE,QAAA,SAAS,EAAEd,OAAO,CAACe,OADrB;AAEE,QAAA,IAAI,MAFN;AAGE,QAAA,EAAE,EAAE,CAHN;AAIE,QAAA,EAAE,EAAE,EAJN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAME;AAAK,QAAA,SAAS,EAAEf,OAAO,CAACe,OAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAEE;AAAK,QAAA,SAAS,EAAEf,OAAO,CAACgB,WAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAM,QAAA,SAAS,EAAEhB,OAAO,CAACiB,IAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,UAAD;AACI,QAAA,SAAS,EAAEjB,OAAO,CAACkB,KADvB;AAEI,QAAA,OAAO,EAAC,IAFZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADF,EAOE,oBAAC,UAAD;AACI,QAAA,SAAS,EAAElB,OAAO,CAACmB,QADvB;AAEI,QAAA,OAAO,EAAC,OAFZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yDAPF,EAcI;AAAK,QAAA,SAAS,EAAEnB,OAAO,CAACoB,MAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,SAAD;AACI,QAAA,SAAS,EAAEpB,OAAO,CAACqB,SADvB;AAEI,QAAA,KAAK,EAAC,YAFV;AAGI,QAAA,IAAI,EAAC,WAHT;AAII,QAAA,QAAQ,EAAE,kBAAAC,KAAK;AAAA,iBACX,MAAI,CAAC3B,iBAAL,CAAuB,WAAvB,EAAoC2B,KAAK,CAACC,MAAN,CAAa1B,KAAjD,CADW;AAAA,SAJnB;AAOI,QAAA,KAAK,EAAEtB,MAAM,CAACC,SAPlB;AAQI,QAAA,OAAO,EAAC,UARZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,EAWGyB,kBAAkB,IACf,oBAAC,UAAD;AACI,QAAA,SAAS,EAAED,OAAO,CAACwB,UADvB;AAEI,QAAA,OAAO,EAAC,OAFZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAIG1C,MAAM,CAACN,SAAP,CAAiB,CAAjB,CAJH,CAZN,EAmBE,oBAAC,SAAD;AACI,QAAA,SAAS,EAAEwB,OAAO,CAACqB,SADvB;AAEI,QAAA,KAAK,EAAC,WAFV;AAGI,QAAA,QAAQ,EAAE,kBAAAC,KAAK;AAAA,iBACX,MAAI,CAAC3B,iBAAL,CAAuB,UAAvB,EAAmC2B,KAAK,CAACC,MAAN,CAAa1B,KAAhD,CADW;AAAA,SAHnB;AAMI,QAAA,KAAK,EAAEtB,MAAM,CAACE,QANlB;AAOI,QAAA,OAAO,EAAC,UAPZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAnBF,EA4BGyB,iBAAiB,IACd,oBAAC,UAAD;AACI,QAAA,SAAS,EAAEF,OAAO,CAACwB,UADvB;AAEI,QAAA,OAAO,EAAC,OAFZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAIG1C,MAAM,CAACL,QAAP,CAAgB,CAAhB,CAJH,CA7BN,EAoCE,oBAAC,SAAD;AACI,QAAA,SAAS,EAAEuB,OAAO,CAACqB,SADvB;AAEI,QAAA,KAAK,EAAC,OAFV;AAGI,QAAA,IAAI,EAAC,OAHT;AAII,QAAA,QAAQ,EAAE,kBAAAC,KAAK;AAAA,iBACX,MAAI,CAAC3B,iBAAL,CAAuB,OAAvB,EAAgC2B,KAAK,CAACC,MAAN,CAAa1B,KAA7C,CADW;AAAA,SAJnB;AAOI,QAAA,KAAK,EAAEtB,MAAM,CAACG,KAPlB;AAQI,QAAA,OAAO,EAAC,UARZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QApCF,EA8CGyB,cAAc,IACX,oBAAC,UAAD;AACI,QAAA,SAAS,EAAEH,OAAO,CAACwB,UADvB;AAEI,QAAA,OAAO,EAAC,OAFZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAIG1C,MAAM,CAACJ,KAAP,CAAa,CAAb,CAJH,CA/CN,EAsDE,oBAAC,SAAD;AACI,QAAA,SAAS,EAAEsB,OAAO,CAACqB,SADvB;AAEI,QAAA,KAAK,EAAC,cAFV;AAGI,QAAA,IAAI,EAAC,aAHT;AAII,QAAA,OAAO,EAAC,UAJZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAtDF,EA4DE,oBAAC,SAAD;AACI,QAAA,SAAS,EAAErB,OAAO,CAACqB,SADvB;AAEI,QAAA,KAAK,EAAC,iBAFV;AAGI,QAAA,IAAI,EAAC,gBAHT;AAII,QAAA,OAAO,EAAC,UAJZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QA5DF,EAkEE;AAAK,QAAA,SAAS,EAAErB,OAAO,CAACyB,WAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,cAAD;AAAgB,QAAA,IAAI,EAAC,OAArB;AACgB,QAAA,KAAK,EAAC,cADtB;AAEgB,mBAAQ,YAFxB;AAGgB,QAAA,cAAc,EAAE,IAHhC;AAIgB,QAAA,OAAO,EAAC,UAJxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,CAlEF,CAdJ,EAyFKxC,WAAW,IACR,oBAAC,UAAD;AACI,QAAA,SAAS,EAAEe,OAAO,CAACf,WADvB;AAEI,QAAA,OAAO,EAAC,OAFZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAIGA,WAJH,CA1FR,EAiGKD,SAAS,GACN,oBAAC,gBAAD;AAAkB,QAAA,SAAS,EAAEgB,OAAO,CAAC0B,QAArC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADM,GAGN,oBAAC,MAAD;AACI,QAAA,SAAS,EAAE1B,OAAO,CAAC2B,YADvB;AAEI,QAAA,KAAK,EAAC;AACN;AAHJ;AAII,QAAA,OAAO,EAAE,KAAK7B,YAJlB;AAKI,QAAA,IAAI,EAAC,OALT;AAMI,QAAA,OAAO,EAAC,WANZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBApGR,CADF,CAFF,EAsHE,oBAAC,IAAD;AAAM,QAAA,EAAE,EAAE,KAAKxB,KAAL,CAAWY,kBAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI,oBAAC,UAAD;AACI,QAAA,SAAS,EAAEc,OAAO,CAAC4B,cADvB;AAEI,QAAA,OAAO,EAAC,IAFZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kGADJ,CAtHF,EAgIE,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAhIF,CANF,CAnCF,CADF,CADF;AAiLD;;;;EA1RoBhF,S;;AA6RvByB,QAAQ,CAACwD,SAAT,GAAqB;AACnBC,EAAAA,SAAS,EAAE/E,SAAS,CAACgF,MADF;AAEnB/B,EAAAA,OAAO,EAAEjD,SAAS,CAACiF,MAAV,CAAiBC,UAFP;AAGnB7C,EAAAA,OAAO,EAAErC,SAAS,CAACiF,MAAV,CAAiBC;AAHP,CAArB;AAMA,eAAejF,OAAO,CACpBF,UADoB,EAEpBK,UAAU,CAACS,MAAD,CAFU,CAAP,CAGbS,QAHa,CAAf","sourcesContent":["import React, { Component } from 'react';\nimport { Link, withRouter } from 'react-router-dom';\n\n// Externals\nimport PropTypes from 'prop-types';\nimport compose from 'recompose/compose';\nimport validate from 'validate.js';\nimport _ from 'underscore';\n\n// Material helpers\nimport { withStyles } from '@material-ui/core';\n\n// Material components\nimport {\n  Button,\n  Checkbox,\n  CircularProgress,\n  Grid,\n  TextField,\n  Typography,\n    Fade\n} from '@material-ui/core';\n\n// Shared utilities\nimport validators from '../../common/validators';\n\n// Component styles\nimport styles from './styles';\n\n// Form validation schema\nimport schema from './schema';\n\nimport { Footer } from '../../layouts/Dashboard/components';\n\nimport MuiPhoneNumber from \"material-ui-phone-number\";\n\n\nvalidate.validators.checked = validators.checked;\n\n// Service methods\nconst signUp = () => {\n  return new Promise(resolve => {\n    setTimeout(() => {\n      resolve(true);\n    }, 1500);\n  });\n};\n\nclass Register extends Component {\n  state = {\n    values: {\n      firstName: '',\n      lastName: '',\n      email: '',\n      password: '',\n      policy: false\n    },\n    touched: {\n      firstName: false,\n      lastName: false,\n      email: false,\n      password: false,\n      policy: null\n    },\n    errors: {\n      firstName: null,\n      lastName: null,\n      email: null,\n      password: null,\n      policy: null\n    },\n    isValid: false,\n    isLoading: false,\n    submitError: null,\n    showSuccessMessage: false\n  };\n\n  handleBack = () => {\n    const { history } = this.props;\n\n    history.goBack();\n  };\n\n  validateForm = _.debounce(() => {\n    const { values } = this.state;\n\n    const newState = { ...this.state };\n    const errors = validate(values, schema);\n\n    newState.errors = errors || {};\n    newState.isValid = errors ? false : true;\n\n    this.setState(newState);\n  }, 300);\n\n  handleFieldChange = (field, value) => {\n    const newState = { ...this.state };\n\n    newState.submitError = null;\n    newState.touched[field] = true;\n    newState.values[field] = value;\n\n    this.setState(newState, this.validateForm);\n  };\n\n  handleSignUp = async () => {\n    try {\n      const { history } = this.props;\n      const { values } = this.state;\n\n      this.setState({ isLoading: true });\n\n      await signUp({\n        firstName: values.firstName,\n        lastName: values.lastName,\n        email: values.email,\n        password: values.password\n      });\n\n      this.setState({showSuccessMessage: true});\n      //history.push('/sign-in');\n      this.setState({ isLoading: false });\n    } catch (error) {\n      this.setState({\n        isLoading: false,\n        serviceError: error\n      });\n    }\n  };\n\n  render() {\n    const { classes } = this.props;\n    const {\n      values,\n      touched,\n      errors,\n      isValid,\n      submitError,\n      isLoading,\n        showSuccessMessage\n    } = this.state;\n\n    const showFirstNameError =\n      touched.firstName && errors.firstName ? errors.firstName[0] : false;\n    const showLastNameError =\n      touched.lastName && errors.lastName ? errors.lastName[0] : false;\n    const showEmailError =\n      touched.email && errors.email ? errors.email[0] : false;\n    const showPasswordError =\n      touched.password && errors.password ? errors.password[0] : false;\n    const showPolicyError =\n      touched.policy && errors.policy ? errors.policy[0] : false;\n\n    return (\n      <div className={classes.root}>\n        <Grid\n          className={classes.grid}\n          container\n        >\n          <Grid\n            className={classes.quoteWrapper}\n            item\n            lg={5}\n          >\n            <div className={classes.quote}>\n              <div className={classes.quoteInner}>\n                <Typography\n                  className={classes.quoteText}\n                  variant=\"h1\"\n                >\n                  Hella narwhal Cosby sweater McSweeney's, salvia kitsch before\n                  they sold out High Life.\n                </Typography>\n                <div className={classes.person}>\n                  <Typography\n                    className={classes.name}\n                    variant=\"body1\"\n                  >\n                    Takamaru Ayako\n                  </Typography>\n                  <Typography\n                    className={classes.bio}\n                    variant=\"body2\"\n                  >\n                    Manager at inVision\n                  </Typography>\n                </div>\n              </div>\n            </div>\n          </Grid>\n          <Grid\n            className={classes.content}\n            item\n            lg={7}\n            xs={12}\n          >\n            <div className={classes.content}>\n\n              <div className={classes.contentBody}>\n                <form className={classes.form}>\n                  <Typography\n                      className={classes.title}\n                      variant=\"h2\"\n                  >\n                    Register\n                  </Typography>\n                  <Typography\n                      className={classes.subtitle}\n                      variant=\"body1\"\n                  >\n                    Use your work email to register... it's free.\n                  </Typography>\n\n                    <div className={classes.fields}>\n                      <TextField\n                          className={classes.textField}\n                          label=\"First name\"\n                          name=\"firstName\"\n                          onChange={event =>\n                              this.handleFieldChange('firstName', event.target.value)\n                          }\n                          value={values.firstName}\n                          variant=\"outlined\"\n                      />\n                      {showFirstNameError && (\n                          <Typography\n                              className={classes.fieldError}\n                              variant=\"body2\"\n                          >\n                            {errors.firstName[0]}\n                          </Typography>\n                      )}\n                      <TextField\n                          className={classes.textField}\n                          label=\"Last name\"\n                          onChange={event =>\n                              this.handleFieldChange('lastName', event.target.value)\n                          }\n                          value={values.lastName}\n                          variant=\"outlined\"\n                      />\n                      {showLastNameError && (\n                          <Typography\n                              className={classes.fieldError}\n                              variant=\"body2\"\n                          >\n                            {errors.lastName[0]}\n                          </Typography>\n                      )}\n                      <TextField\n                          className={classes.textField}\n                          label=\"Email\"\n                          name=\"email\"\n                          onChange={event =>\n                              this.handleFieldChange('email', event.target.value)\n                          }\n                          value={values.email}\n                          variant=\"outlined\"\n                      />\n                      {showEmailError && (\n                          <Typography\n                              className={classes.fieldError}\n                              variant=\"body2\"\n                          >\n                            {errors.email[0]}\n                          </Typography>\n                      )}\n                      <TextField\n                          className={classes.textField}\n                          label=\"Company Name\"\n                          name=\"companyName\"\n                          variant=\"outlined\"\n                      />\n                      <TextField\n                          className={classes.textField}\n                          label=\"Company Address\"\n                          name=\"companyAddress\"\n                          variant=\"outlined\"\n                      />\n                      <div className={classes.phoneNumber}>\n                        <MuiPhoneNumber name=\"phone\"\n                                        label=\"Phone Number\"\n                                        data-cy=\"user-phone\"\n                                        defaultCountry={\"tr\"}\n                                        variant=\"outlined\"/>\n                      </div>\n                    </div>\n\n                    {submitError && (\n                        <Typography\n                            className={classes.submitError}\n                            variant=\"body2\"\n                        >\n                          {submitError}\n                        </Typography>\n                    )}\n                    {isLoading ? (\n                        <CircularProgress className={classes.progress} />\n                    ) : (\n                        <Button\n                            className={classes.signUpButton}\n                            color=\"primary\"\n                            /*disabled={!isValid}*/\n                            onClick={this.handleSignUp}\n                            size=\"large\"\n                            variant=\"contained\"\n                        >\n                          Register now\n                        </Button>\n                    )}\n\n                </form>\n              </div>\n\n              <Fade in={this.state.showSuccessMessage}>\n                  <Typography\n                      className={classes.successMessage}\n                      variant=\"h1\"\n                  >\n                    Hella narwhal Cosby sweater McSweeney's, salvia kitsch before\n                    they sold out High Life.\n                  </Typography>\n              </Fade>\n\n              <Footer/>\n            </div>\n          </Grid>\n        </Grid>\n      </div>\n    );\n  }\n}\n\nRegister.propTypes = {\n  className: PropTypes.string,\n  classes: PropTypes.object.isRequired,\n  history: PropTypes.object.isRequired\n};\n\nexport default compose(\n  withRouter,\n  withStyles(styles)\n)(Register);\n"]},"metadata":{},"sourceType":"module"}